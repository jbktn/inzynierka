================================================================================
RAPORT KOŃCOWY - PREDYKCJA WILGOTNOŚCI GLEBY (CNN+XGBOOST)
================================================================================

Data: 2025-10-22 20:43:08
Projekt: Soil Moisture Prediction using Planet Labs + CNN+XGBoost

--------------------------------------------------------------------------------
1. DATASET
--------------------------------------------------------------------------------
Łączna liczba próbek: 348
   - Train: 243 (69.8%)
   - Validation: 52 (14.9%)
   - Test: 53 (15.2%)

Rozmiar patcha: 64×64 pikseli
Liczba kanałów: 8 (Planet Labs)

Zakres wilgotności: [0.0194, 0.4023] m³/m³
Średnia wilgotność: 0.1540 ± 0.1164 m³/m³

--------------------------------------------------------------------------------
2. ARCHITEKTURA MODELU
--------------------------------------------------------------------------------
Model hybrydowy: CNN + XGBoost Gradient Boosting

CNN (Feature Extractor):
   - 4 bloki konwolucyjne
   - 3 warstwy max pooling
   - 1 warstwa fully connected (128 cech)
   - Batch Normalization i Dropout

XGBoost (Regressor):
   - Gradient Boosting
   - Max depth: 6
   - Learning rate: 0.05
   - Max trees: 1000

--------------------------------------------------------------------------------
3. TRENOWANIE
--------------------------------------------------------------------------------
Pre-trenowanie CNN: 11 epok
   Best validation loss: 0.017897

Trenowanie XGBoost: 48 iteracji (early stopping)
   Max iterations: 1000

--------------------------------------------------------------------------------
4. WYNIKI NA ZBIORZE TESTOWYM
--------------------------------------------------------------------------------
RMSE:  0.0393 m³/m³
MAE:   0.0298 m³/m³
R²:    0.8906
MAPE:  62.57%
Bias:  +0.0045 m³/m³

--------------------------------------------------------------------------------
5. PORÓWNANIE Z LITERATURĄ
--------------------------------------------------------------------------------

Model                          R²           MAE          RMSE         Dataset                       
------------------------------------------------------------------------------------------------
Hegazi_et_al_2023              0.7094       0.0277       0.0418       Sentinel-2 (OzNet + WegenerNet)
Celik_et_al_2022               0.8700       0.0330       0.0460       Sentinel-1 + SMAP             
This_study                     0.8906       0.0298       0.0393       Planet Labs (REMEDHUS)        

--------------------------------------------------------------------------------
6. WNIOSKI
--------------------------------------------------------------------------------
✓✓ Doskonały współczynnik determinacji (R² > 0.85)
✓✓ Bardzo niski średni błąd bezwzględny (MAE < 0.03)
✓ Bardzo niski bias systemowy

Model hybrydowy (CNN+XGBoost) łączy zalety obu podejść:
- CNN wychwytuje wzorce przestrzenne w obrazach satelitarnych
- XGBoost zapewnia precyzyjne predykcje na wyekstraktowanych cechach
- Rezultat: model mniej podatny na overfitting, szybsze trenowanie

--------------------------------------------------------------------------------
7. REKOMENDACJE
--------------------------------------------------------------------------------
• Rozszerzyć dataset na więcej sezonów i lat
• Testować inne architektury CNN (ResNet, EfficientNet)
• Dodać dane meteorologiczne (temperatura, opady)
• Implementować transfer learning z pretrenowanych modeli
• Ensemble learning - połączyć predykcje wielu modeli
• Kalibracja modelu dla konkretnych regionów

--------------------------------------------------------------------------------
8. ARTEFAKTY
--------------------------------------------------------------------------------
Raporty:            /home/jbktn/inzynierka/training_output/
Modele:             cnn_feature_extractor.h5, xgboost_model.json
Wykresy:            /home/jbktn/inzynierka/training_output/plots/
Dane treningowe:    moisture_data.csv
Predykcje testowe:  test_predictions_detailed.csv

================================================================================
KONIEC RAPORTU
================================================================================